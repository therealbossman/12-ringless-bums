
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>11 Ringless Bums - Power Rankings</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 0;
            padding: 0;
            background-color: #ffffff;
            color: #000000;
        }
        h1 {
            margin-top: 30px;
            font-size: 36px;
        }
        #rankings {
            margin-top: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .team {
            margin: 10px;
            padding: 10px 20px;
            border: 1px solid #ccc;
            border-radius: 10px;
            width: 90%;
            max-width: 500px;
            background-color: #f9f9f9;
        }
    </style>
</head>
<body>

    <h1>11 Ringless Bums</h1>
    <div id="rankings">Loading rankings...</div>

    <script>
        async function getRankings() {
            const leagueId = "1182477393715769344";
            const usersResponse = await fetch(`https://api.sleeper.app/v1/league/${leagueId}/users`);
            const rostersResponse = await fetch(`https://api.sleeper.app/v1/league/${leagueId}/rosters`);

            const users = await usersResponse.json();
            const rosters = await rostersResponse.json();

            // Build a userId -> username map
            const userMap = {};
            users.forEach(user => {
                userMap[user.user_id] = user.display_name;
            });

            // Create team rankings based on roster size (basic for now)
            const rankings = rosters.map(roster => {
                const metadata = roster.metadata || {};
                const teamName = metadata.team_name ? metadata.team_name : "Unnamed Team";
                const ownerName = userMap[roster.owner_id] || "Unknown";
                const playersCount = roster.players ? roster.players.length : 0;
                return {
                    teamName,
                    ownerName,
                    playersCount
                };
            });

            // Sort by players count (can update later to total value)
            rankings.sort((a, b) => b.playersCount - a.playersCount);

            // Output to page
            const rankingsDiv = document.getElementById('rankings');
            rankingsDiv.innerHTML = '';

            rankings.forEach((team, index) => {
                const div = document.createElement('div');
                div.className = 'team';
                div.innerHTML = `<strong>#${index + 1}</strong> ${team.teamName} (${team.ownerName})`;
                rankingsDiv.appendChild(div);
            });
        }

        getRankings();
    </script>

</body>
</html>
